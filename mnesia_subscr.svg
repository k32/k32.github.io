<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2311px" preserveAspectRatio="none" style="width:1236px;height:2311px;" version="1.1" viewBox="0 0 1236 2311" width="1236px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="fpgz1ths01k00" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <rect fill="#FFFFFF" height="2296.9609" style="stroke: #A80036; stroke-width: 1.0;" width="662.5" x="132" y="4"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="413.75" y="16.0669">Original node</text>
    <rect fill="#ADD8E6" height="2296.9609" style="stroke: #A80036; stroke-width: 1.0;" width="427" x="796.5" y="4"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="96" x="962" y="16.0669">Participant A</text>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="1985.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="146" y="97.4297"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="1817.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="151" y="223.8281"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="124.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="320.2266"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="228.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="574.2891"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="643.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="1182.6797"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="320.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="161" y="1463.7422"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="174.7969" style="stroke: #000000; stroke-width: 2.0;" width="984" x="126" y="594.4219"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="139.6641" style="stroke: #000000; stroke-width: 2.0;" width="828" x="126" y="964.8828"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="140.5313" style="stroke: #000000; stroke-width: 2.0;" width="386" x="741" y="2105.1328"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="151" x2="151" y1="58.4297" y2="2262.6641"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="479.5" x2="479.5" y1="58.4297" y2="2262.6641"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="594.5" x2="594.5" y1="58.4297" y2="2262.6641"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="726.5" x2="726.5" y1="58.4297" y2="2262.6641"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="846.5" x2="846.5" y1="58.4297" y2="2262.6641"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1160.5" x2="1160.5" y1="58.4297" y2="2262.6641"/>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="136" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="143" y="43.1279">tx</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="136" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="143" y="2281.6592">tx</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="433.5" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="440.5" y="43.1279">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="433.5" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="440.5" y="2281.6592">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="536.5" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="543.5" y="43.1279">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="536.5" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="543.5" y="2281.6592">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="663.5" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="670.5" y="43.1279">mnesia_recover</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="663.5" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="109" x="670.5" y="2281.6592">mnesia_recover</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="800.5" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="807.5" y="43.1279">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="800.5" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="807.5" y="2281.6592">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="1102.5" y="23.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="1109.5" y="43.1279">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#fpgz1ths01k00)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="1102.5" y="2261.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="1109.5" y="2281.6592">mnesia_locker</text>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="1985.5703" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="146" y="97.4297"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="1817.0391" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="151" y="223.8281"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="124.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="320.2266"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="228.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="574.2891"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="643.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="156" y="1182.6797"/>
    <rect fill="#FFFFFF" filter="url(#fpgz1ths01k00)" height="320.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="161" y="1463.7422"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="151" x2="198" y1="84.5625" y2="84.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="198" y1="84.5625" y2="97.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="198" y1="97.5625" y2="97.5625"/>
    <polygon fill="#A80036" points="167,93.5625,157,97.5625,167,101.5625,163,97.5625" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="163" y="79.4966">mnesia_tm:t_commit</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="163" x2="300" y1="81.4966" y2="81.4966"/>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="156" x2="198" y1="131.6953" y2="131.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="198" y1="131.6953" y2="144.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="198" y1="144.6953" y2="144.6953"/>
    <polygon fill="#A80036" points="167,140.6953,157,144.6953,167,148.6953,163,144.6953" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="163" y="126.6294">mnesia_tm:intercept_friends</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="156" x2="198" y1="173.8281" y2="173.8281"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="198" x2="198" y1="173.8281" y2="186.8281"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="198" y1="186.8281" y2="186.8281"/>
    <polygon fill="#A80036" points="167,182.8281,157,186.8281,167,190.8281,163,186.8281" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="163" y="168.7622">mnesia_tm:arrange</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="156" x2="203" y1="210.9609" y2="210.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="203" x2="203" y1="210.9609" y2="223.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="203" y1="223.9609" y2="223.9609"/>
    <polygon fill="#A80036" points="172,219.9609,162,223.9609,172,227.9609,168,223.9609" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="168" y="205.895">mnesia_tm:multi_commit(Prep)</text>
    <path d="M8,241.9609 L8,281.9609 L290,281.9609 L290,251.9609 L280,241.9609 L8,241.9609 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M280,241.9609 L280,251.9609 L290,251.9609 L280,241.9609 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="14" y="259.0278">Mnesia has 4 different commit protocols.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="14" y="274.1606">We only consider</text>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="67" x="125" y="274.1606">sym_trans</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="125" x2="192" y1="276.1606" y2="276.1606"/>
    </a>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="33" x="196" y="274.1606">here.</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="208" y1="307.3594" y2="307.3594"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="208" x2="208" y1="307.3594" y2="320.3594"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="208" y1="320.3594" y2="320.3594"/>
    <polygon fill="#A80036" points="177,316.3594,167,320.3594,177,324.3594,173,320.3594" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="173" y="302.2935">mnesia_tm:commit_nodes</text>
    <path d="M46,338.3594 L46,408.3594 L252,408.3594 L252,348.3594 L242,338.3594 L46,338.3594 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M242,338.3594 L242,348.3594 L252,348.3594 L242,338.3594 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="185" x="52" y="355.4263">Get list of nodes that contain</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="52" y="370.5591">disk and ram copies</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="52" y="385.6919">of tables affected by</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="52" y="400.8247">the transaction</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="208" y1="444.0234" y2="444.0234"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="208" x2="208" y1="444.0234" y2="457.0234"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="161" x2="208" y1="457.0234" y2="457.0234"/>
    <polygon fill="#A80036" points="171,453.0234,161,457.0234,171,461.0234,167,457.0234" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="114" x="173" y="438.9575">{DiskNs, RamNs}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="203" y1="481.1563" y2="481.1563"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="203" x2="203" y1="481.1563" y2="494.1563"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="203" y1="494.1563" y2="494.1563"/>
    <polygon fill="#A80036" points="172,490.1563,162,494.1563,172,498.1563,168,494.1563" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="168" y="476.0903">mnesia_checkpoint:tm_enter_pending</text>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1221.5" x="3" y="522.7227"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="522.7227" y2="522.7227"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="525.7227" y2="525.7227"/>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="146" x="540.75" y="512.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="127" x="546.75" y="528.2231">1st phase of 2PC</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="208" y1="561.4219" y2="561.4219"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="208" x2="208" y1="561.4219" y2="574.4219"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="208" y1="574.4219" y2="574.4219"/>
    <polygon fill="#A80036" points="177,570.4219,167,574.4219,177,578.4219,173,574.4219" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="154" x="173" y="556.356">mnesia_tm:ask_commit</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="173" x2="327" y1="558.356" y2="558.356"/>
    </a>
    <path d="M126,594.4219 L203,594.4219 L203,601.4219 L193,611.4219 L126,611.4219 L126,594.4219 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="174.7969" style="stroke: #000000; stroke-width: 2.0;" width="984" x="126" y="594.4219"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="141" y="607.4888">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="225" x="218" y="606.6323">[for each #commit record in #prep]</text>
    <polygon fill="#A80036" points="835,628.6875,845,632.6875,835,632.6875" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="846" y1="632.6875" y2="632.6875"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="78" x="173" y="627.6216">ask_commit</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="173" x2="251" y1="629.6216" y2="629.6216"/>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="661.8203" y2="661.8203"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="661.8203" y2="674.8203"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="674.8203" y2="674.8203"/>
    <polygon fill="#A80036" points="858,670.8203,848,674.8203,858,678.8203,854,674.8203" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="854" y="656.7544">mnesia_checkpoint:tm_enter_pending</text>
    <polygon fill="#A80036" points="177,699.9531,167,703.9531,177,703.9531" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="846" y1="703.9531" y2="703.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="183" y="698.8872">{vote_yes, Tid}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="748.2188" y2="748.2188"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="748.2188" y2="761.2188"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="761.2188" y2="761.2188"/>
    <polygon fill="#A80036" points="858,757.2188,848,761.2188,858,765.2188,854,761.2188" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="854" y="728.02">Add commit record from tx</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="854" y="743.1528">to the state gb_tree</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="208" y1="802.3516" y2="802.3516"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="208" x2="208" y1="802.3516" y2="815.3516"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="161" x2="208" y1="815.3516" y2="815.3516"/>
    <polygon fill="#A80036" points="171,811.3516,161,815.3516,171,819.3516,167,815.3516" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="173" y="797.2856">{WaitFor, Local}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="203" y1="839.4844" y2="839.4844"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="203" x2="203" y1="839.4844" y2="852.4844"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="203" y1="852.4844" y2="852.4844"/>
    <polygon fill="#A80036" points="172,848.4844,162,852.4844,172,856.4844,168,852.4844" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="263" x="168" y="834.4185">receive nodes' votes and derive outcome</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="168" x2="431" y1="836.4185" y2="836.4185"/>
    </a>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1221.5" x="3" y="881.0508"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="881.0508" y2="881.0508"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="884.0508" y2="884.0508"/>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="151" x="538.25" y="870.4844"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="544.25" y="886.5513">2nd phase of 2PC</text>
    <path d="M55,908.6172 L55,948.6172 L243,948.6172 L243,918.6172 L233,908.6172 L55,908.6172 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M233,908.6172 L233,918.6172 L243,918.6172 L233,908.6172 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="61" y="925.6841">broadcast the outcome to</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="65" y="940.8169">the participants</text>
    <path d="M126,964.8828 L203,964.8828 L203,971.8828 L193,981.8828 L126,981.8828 L126,964.8828 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="139.6641" style="stroke: #000000; stroke-width: 2.0;" width="828" x="126" y="964.8828"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="141" y="977.9497">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="173" x="218" y="977.0933">[for each participant node]</text>
    <polygon fill="#A80036" points="835,999.1484,845,1003.1484,835,1003.1484" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="846" y1="1003.1484" y2="1003.1484"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="192" x="168" y="998.0825">{Tid, Outcome = do_commit}</text>
    <path d="M805,1016.1484 L805,1041.1484 L884,1041.1484 L884,1026.1484 L874,1016.1484 L805,1016.1484 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M874,1016.1484 L874,1026.1484 L884,1026.1484 L874,1016.1484 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="58" x="811" y="1033.2153">doit_loop</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="811" x2="869" y1="1035.2153" y2="1035.2153"/>
    </a>
    <path d="M749,1055.2813 L749,1095.2813 L940,1095.2813 L940,1065.2813 L930,1055.2813 L749,1055.2813 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M930,1055.2813 L930,1065.2813 L940,1065.2813 L930,1055.2813 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="755" y="1072.3481">lookup #participant record</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="759" y="1087.481">from the state gb_tree</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="203" y1="1132.6797" y2="1132.6797"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="203" x2="203" y1="1132.6797" y2="1145.6797"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="203" y1="1145.6797" y2="1145.6797"/>
    <polygon fill="#A80036" points="172,1141.6797,162,1145.6797,172,1149.6797,168,1145.6797" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="168" y="1127.6138">mnesia_recover:note_decision(Tid, committed)</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="208" y1="1169.8125" y2="1169.8125"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="208" x2="208" y1="1169.8125" y2="1182.8125"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="208" y1="1182.8125" y2="1182.8125"/>
    <polygon fill="#A80036" points="177,1178.8125,167,1182.8125,177,1186.8125,173,1182.8125" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="127" x="173" y="1164.7466">mnesia_tm:do_dirty</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="173" x2="300" y1="1166.7466" y2="1166.7466"/>
    </a>
    <path d="M46,1200.8125 L46,1255.8125 L251,1255.8125 L251,1210.8125 L241,1200.8125 L46,1200.8125 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M241,1200.8125 L241,1210.8125 L251,1210.8125 L241,1200.8125 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="184" x="52" y="1217.8794">Mnesia logs #commit record</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="52" y="1233.0122">for the local node.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="52" y="1248.145">See "Arrange" chapter below</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="208" y1="1286.3438" y2="1286.3438"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="208" x2="208" y1="1286.3438" y2="1299.3438"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="167" x2="208" y1="1299.3438" y2="1299.3438"/>
    <polygon fill="#A80036" points="177,1295.3438,167,1299.3438,177,1303.3438,173,1299.3438" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="96" x="173" y="1281.2778">mnesia_log:log</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="173" x2="269" y1="1283.2778" y2="1283.2778"/>
    </a>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="269" y="1281.2778">(#commit{})</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="1328.4766" y2="1328.4766"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="1328.4766" y2="1341.4766"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="1341.4766" y2="1341.4766"/>
    <polygon fill="#A80036" points="858,1337.4766,848,1341.4766,858,1345.4766,854,1341.4766" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="157" x="854" y="1323.4106">mnesia_log:log(Commit)</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="1370.6094" y2="1370.6094"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="1370.6094" y2="1383.6094"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="1383.6094" y2="1383.6094"/>
    <polygon fill="#A80036" points="858,1379.6094,848,1383.6094,858,1387.6094,854,1383.6094" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="300" x="854" y="1365.5435">mnesia_recover:note_decision(Tid, committed)</text>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1221.5" x="3" y="1412.1758"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="1412.1758" y2="1412.1758"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="1415.1758" y2="1415.1758"/>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="170" x="528.75" y="1401.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="151" x="534.75" y="1417.6763">Post-commit actions</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="213" y1="1450.875" y2="1450.875"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1450.875" y2="1463.875"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1463.875" y2="1463.875"/>
    <polygon fill="#A80036" points="182,1459.875,172,1463.875,182,1467.875,178,1463.875" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="178" y="1445.8091">mnesia_tm:do_commit</text>
    <path d="M58,1481.875 L58,1536.875 L239,1536.875 L239,1491.875 L229,1481.875 L58,1481.875 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M229,1481.875 L229,1491.875 L239,1491.875 L229,1481.875 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="64" y="1498.9419">Dump the ops to the DB,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="68" y="1514.0747">notify subscribers,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="24" x="68" y="1529.2075">etc.</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="171" x2="213" y1="1567.4063" y2="1567.4063"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1567.4063" y2="1580.4063"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1580.4063" y2="1580.4063"/>
    <polygon fill="#A80036" points="182,1576.4063,172,1580.4063,182,1584.4063,178,1580.4063" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="178" y="1562.3403">mnesia_tm:do_snmp</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="171" x2="213" y1="1609.5391" y2="1609.5391"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1609.5391" y2="1622.5391"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1622.5391" y2="1622.5391"/>
    <polygon fill="#A80036" points="182,1618.5391,172,1622.5391,182,1626.5391,178,1622.5391" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="178" y="1604.4731">update_ram_copies</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="171" x2="213" y1="1651.6719" y2="1651.6719"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1651.6719" y2="1664.6719"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1664.6719" y2="1664.6719"/>
    <polygon fill="#A80036" points="182,1660.6719,172,1664.6719,182,1668.6719,178,1664.6719" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="178" y="1646.606">update_disc_copies</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="171" x2="213" y1="1693.8047" y2="1693.8047"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1693.8047" y2="1706.8047"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1706.8047" y2="1706.8047"/>
    <polygon fill="#A80036" points="182,1702.8047,172,1706.8047,182,1710.8047,178,1706.8047" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="178" y="1688.7388">mnesia_tm:do_update_ext</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="171" x2="213" y1="1735.9375" y2="1735.9375"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="213" x2="213" y1="1735.9375" y2="1748.9375"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="172" x2="213" y1="1748.9375" y2="1748.9375"/>
    <polygon fill="#A80036" points="182,1744.9375,172,1748.9375,182,1752.9375,178,1748.9375" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="178" y="1730.8716">mnesia_subscr:report_activity</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="171" x2="213" y1="1783.0703" y2="1783.0703"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="213" x2="213" y1="1783.0703" y2="1796.0703"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="213" y1="1796.0703" y2="1796.0703"/>
    <polygon fill="#A80036" points="176,1792.0703,166,1796.0703,176,1800.0703,172,1796.0703" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="178" y="1778.0044">?</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="208" y1="1825.2031" y2="1825.2031"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="208" x2="208" y1="1825.2031" y2="1838.2031"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="161" x2="208" y1="1838.2031" y2="1838.2031"/>
    <polygon fill="#A80036" points="171,1834.2031,161,1838.2031,171,1842.2031,167,1838.2031" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="7" x="173" y="1820.1372">?</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="1862.3359" y2="1862.3359"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="1862.3359" y2="1875.3359"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="1875.3359" y2="1875.3359"/>
    <polygon fill="#A80036" points="858,1871.3359,848,1875.3359,858,1879.3359,854,1875.3359" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="235" x="854" y="1857.27">mnesia_tm:do_commit(Tid, Commit)</text>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1221.5" x="3" y="1903.9023"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="1903.9023" y2="1903.9023"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1224.5" y1="1906.9023" y2="1906.9023"/>
    <rect fill="#EEEEEE" filter="url(#fpgz1ths01k00)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="79" x="574.25" y="1893.3359"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="580.25" y="1909.4028">Cleanup</text>
    <polygon fill="#A80036" points="583,1943.6016,593,1947.6016,583,1947.6016" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="594" y1="1947.6016" y2="1947.6016"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="70" x="168" y="1942.5356">release_tid</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="168" x2="238" y1="1944.5356" y2="1944.5356"/>
    </a>
    <polygon fill="#A80036" points="1149,1972.7344,1159,1976.7344,1149,1976.7344" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="1160" y1="1976.7344" y2="1976.7344"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="70" x="854" y="1971.6685">release_tid</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="854" x2="924" y1="1973.6685" y2="1973.6685"/>
    </a>
    <polygon fill="#A80036" points="468,2001.8672,478,2005.8672,468,2005.8672" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="479" y1="2005.8672" y2="2005.8672"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="119" x="168" y="2000.8013">delete_transaction</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="168" x2="287" y1="2002.8013" y2="2002.8013"/>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="161" x2="203" y1="2040" y2="2040"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="203" x2="203" y1="2040" y2="2053"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="156" x2="203" y1="2053" y2="2053"/>
    <polygon fill="#A80036" points="166,2049,156,2053,166,2057,162,2053" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="168" y="2034.9341">do_commit</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="156" x2="198" y1="2082.1328" y2="2082.1328"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="198" x2="198" y1="2082.1328" y2="2095.1328"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="151" x2="198" y1="2095.1328" y2="2095.1328"/>
    <polygon fill="#A80036" points="161,2091.1328,151,2095.1328,161,2099.1328,157,2095.1328" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="163" y="2077.0669">do_commit</text>
    <path d="M741,2105.1328 L902,2105.1328 L902,2112.1328 L892,2122.1328 L741,2122.1328 L741,2105.1328 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="140.5313" style="stroke: #000000; stroke-width: 2.0;" width="386" x="741" y="2105.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116" x="756" y="2118.1997">remote cleanup</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="2143.3984" y2="2143.3984"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="2143.3984" y2="2156.3984"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="2156.3984" y2="2156.3984"/>
    <polygon fill="#A80036" points="858,2152.3984,848,2156.3984,858,2160.3984,854,2156.3984" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="226" x="854" y="2138.3325">mnesia_tm:transaction_terminated</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="847" x2="889" y1="2185.5313" y2="2185.5313"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="889" x2="889" y1="2185.5313" y2="2198.5313"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="889" y1="2198.5313" y2="2198.5313"/>
    <polygon fill="#A80036" points="858,2194.5313,848,2198.5313,858,2202.5313,854,2198.5313" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="261" x="854" y="2180.4653">mnesia_checkpoint:tm_exit_pending(Tid)</text>
    <path d="M751,2211.5313 L751,2236.5313 L938,2236.5313 L938,2221.5313 L928,2211.5313 L751,2211.5313 " fill="#FBFB77" filter="url(#fpgz1ths01k00)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M928,2211.5313 L928,2221.5313 L938,2221.5313 L928,2211.5313 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="757" y="2228.5981">Update the Lamport clock</text>
  </g>
</svg>
