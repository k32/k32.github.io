<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="2513px" preserveAspectRatio="none" style="width:1171px;height:2513px;" version="1.1" viewBox="0 0 1171 2513" width="1171px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="f9h8lzookdwd0" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <rect fill="#FFFFFF" height="2498.3209" style="stroke: #A80036; stroke-width: 1.0;" width="631.5" x="123" y="4"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="394.25" y="17.897">Original node</text>
    <rect fill="#ADD8E6" height="2498.3209" style="stroke: #A80036; stroke-width: 1.0;" width="402" x="756.5" y="4"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86" x="914.5" y="17.897">Participant A</text>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="2165.949" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="105.4799"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="1987.1249" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="142" y="239.598"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="137.5301" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="343.716"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="246.9421" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="618.3642"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="723.4143" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="1273.0725"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="343.3541" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="152" y="1608.4266"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="190.2361" style="stroke: #000000; stroke-width: 2.0;" width="937" x="117" y="638.3642"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="152.5301" style="stroke: #000000; stroke-width: 2.0;" width="791" x="117" y="1037.1304"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="64.412" style="stroke: #000000; stroke-width: 2.0;" width="220.5" x="750.5" y="1414.8965"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="150.8241" style="stroke: #000000; stroke-width: 2.0;" width="365" x="705" y="2293.4289"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="142" x2="142" y1="63.7739" y2="2461.253"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="448.5" x2="448.5" y1="63.7739" y2="2461.253"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="560.5" x2="560.5" y1="63.7739" y2="2461.253"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="688.5" x2="688.5" y1="63.7739" y2="2461.253"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="805.5" x2="805.5" y1="63.7739" y2="2461.253"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1097.5" x2="1097.5" y1="63.7739" y2="2461.253"/>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="127" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="134" y="47.672">tx</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="127" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="134" y="2482.2189">tx</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="403.5" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="410.5" y="47.672">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="403.5" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="410.5" y="2482.2189">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="504.5" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="511.5" y="47.672">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="504.5" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="511.5" y="2482.2189">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="627.5" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="634.5" y="47.672">mnesia_recover</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="119" x="627.5" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="105" x="634.5" y="2482.2189">mnesia_recover</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="760.5" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="767.5" y="47.672">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="760.5" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="767.5" y="2482.2189">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1041.5" y="25.706"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1048.5" y="47.672">mnesia_locker</text>
    <rect fill="#FEFECE" filter="url(#f9h8lzookdwd0)" height="33.0679" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1041.5" y="2460.253"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1048.5" y="2482.2189">mnesia_locker</text>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="2165.949" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="137" y="105.4799"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="1987.1249" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="142" y="239.598"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="137.5301" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="343.716"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="246.9421" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="618.3642"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="723.4143" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="147" y="1273.0725"/>
    <rect fill="#FFFFFF" filter="url(#f9h8lzookdwd0)" height="343.3541" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="152" y="1608.4266"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="142" x2="189" y1="92.4799" y2="92.4799"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="189" y1="92.4799" y2="105.4799"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="148" x2="189" y1="105.4799" y2="105.4799"/>
    <polygon fill="#A80036" points="158,101.4799,148,105.4799,158,109.4799,154,105.4799" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="126" x="154" y="86.6709">mnesia_tm:t_commit</text>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="189" y1="142.186" y2="142.186"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="189" y1="142.186" y2="155.186"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="148" x2="189" y1="155.186" y2="155.186"/>
    <polygon fill="#A80036" points="158,151.186,148,155.186,158,159.186,154,155.186" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="154" y="136.377">mnesia_tm:intercept_friends</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="189" y1="186.892" y2="186.892"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="189" x2="189" y1="186.892" y2="199.892"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="148" x2="189" y1="199.892" y2="199.892"/>
    <polygon fill="#A80036" points="158,195.892,148,199.892,158,203.892,154,199.892" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="154" y="181.083">mnesia_tm:arrange</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="147" x2="194" y1="226.598" y2="226.598"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="194" x2="194" y1="226.598" y2="239.598"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="153" x2="194" y1="239.598" y2="239.598"/>
    <polygon fill="#A80036" points="163,235.598,153,239.598,163,243.598,159,239.598" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="159" y="220.789">mnesia_tm:multi_commit(Prep)</text>
    <path d="M8,257.598 L8,302.598 L272,302.598 L272,267.598 L262,257.598 L8,257.598 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M262,257.598 L262,267.598 L272,267.598 L262,257.598 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="14" y="276.495">Mnesia has 4 different commit protocols.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="14" y="294.201">We only consider</text>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1380" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="62" x="119" y="294.201">sym_trans</text>
    </a>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="184" y="294.201">here.</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="199" y1="330.716" y2="330.716"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="199" y1="330.716" y2="343.716"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="158" x2="199" y1="343.716" y2="343.716"/>
    <polygon fill="#A80036" points="168,339.716,158,343.716,168,347.716,164,343.716" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="164" y="324.907">mnesia_tm:commit_nodes</text>
    <path d="M43,361.716 L43,441.716 L236,441.716 L236,371.716 L226,361.716 L43,361.716 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M226,361.716 L226,371.716 L236,371.716 L226,361.716 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="49" y="380.6131">Get list of nodes that contain</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="49" y="398.3191">disk and ram copies</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="49" y="416.0251">of tables affected by</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="49" y="433.7311">the transaction</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="157" x2="199" y1="480.2461" y2="480.2461"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="199" x2="199" y1="480.2461" y2="493.2461"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="199" y1="493.2461" y2="493.2461"/>
    <polygon fill="#A80036" points="162,489.2461,152,493.2461,162,497.2461,158,493.2461" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="164" y="474.4371">{DiskNs, RamNs}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="194" y1="519.9521" y2="519.9521"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="194" x2="194" y1="519.9521" y2="532.9521"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="153" x2="194" y1="532.9521" y2="532.9521"/>
    <polygon fill="#A80036" points="163,528.9521,153,532.9521,163,536.9521,159,532.9521" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="159" y="514.1431">mnesia_checkpoint:tm_enter_pending</text>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1156.5" x="3" y="562.8052"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="562.8052" y2="562.8052"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="565.8052" y2="565.8052"/>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="120" x="521.25" y="550.9521"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="103" x="527.25" y="568.8492">1st phase of 2PC</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="199" y1="605.3642" y2="605.3642"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="199" y1="605.3642" y2="618.3642"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="158" x2="199" y1="618.3642" y2="618.3642"/>
    <polygon fill="#A80036" points="168,614.3642,158,618.3642,168,622.3642,164,618.3642" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2071" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="141" x="164" y="599.5552">mnesia_tm:ask_commit</text>
    </a>
    <path d="M117,638.3642 L190,638.3642 L190,647.3642 L180,657.3642 L117,657.3642 L117,638.3642 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="190.2361" style="stroke: #000000; stroke-width: 2.0;" width="937" x="117" y="638.3642"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="132" y="653.2612">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="196" x="205" y="652.1231">[for each #commit record in #prep]</text>
    <polygon fill="#A80036" points="794,677.7762,804,681.7762,794,681.7762" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="805" y1="681.7762" y2="681.7762"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L248" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="72" x="164" y="675.9672">ask_commit</text>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="713.4822" y2="713.4822"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="713.4822" y2="726.4822"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="726.4822" y2="726.4822"/>
    <polygon fill="#A80036" points="817,722.4822,807,726.4822,817,730.4822,813,726.4822" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="813" y="707.6732">mnesia_checkpoint:tm_enter_pending</text>
    <polygon fill="#A80036" points="168,754.1882,158,758.1882,168,758.1882" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="805" y1="758.1882" y2="758.1882"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="174" y="752.3792">{vote_yes, Tid}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="807.6003" y2="807.6003"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="807.6003" y2="820.6003"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="820.6003" y2="820.6003"/>
    <polygon fill="#A80036" points="817,816.6003,807,820.6003,817,824.6003,813,820.6003" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="813" y="784.0853">Add commit record from tx</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="813" y="801.7913">to the state gb_tree</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="157" x2="199" y1="864.3063" y2="864.3063"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="199" x2="199" y1="864.3063" y2="877.3063"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="199" y1="877.3063" y2="877.3063"/>
    <polygon fill="#A80036" points="162,873.3063,152,877.3063,162,881.3063,158,877.3063" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="164" y="858.4973">{WaitFor, Local}</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="194" y1="904.0123" y2="904.0123"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="194" x2="194" y1="904.0123" y2="917.0123"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="153" x2="194" y1="917.0123" y2="917.0123"/>
    <polygon fill="#A80036" points="163,913.0123,153,917.0123,163,921.0123,159,917.0123" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L2097" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="244" x="159" y="898.2033">receive nodes' votes and derive outcome</text>
    </a>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1156.5" x="3" y="946.8653"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="946.8653" y2="946.8653"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="949.8653" y2="949.8653"/>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="125" x="518.75" y="935.0123"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="524.75" y="952.9093">2nd phase of 2PC</text>
    <path d="M51,975.7183 L51,1020.7183 L228,1020.7183 L228,985.7183 L218,975.7183 L51,975.7183 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M218,975.7183 L218,985.7183 L228,985.7183 L218,975.7183 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="57" y="994.6153">broadcast the outcome to</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="94" x="60" y="1012.3214">the participants</text>
    <path d="M117,1037.1304 L190,1037.1304 L190,1046.1304 L180,1056.1304 L117,1056.1304 L117,1037.1304 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="152.5301" style="stroke: #000000; stroke-width: 2.0;" width="791" x="117" y="1037.1304"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="132" y="1052.0274">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="150" x="205" y="1050.8893">[for each participant node]</text>
    <polygon fill="#A80036" points="794,1076.5424,804,1080.5424,794,1080.5424" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="805" y1="1080.5424" y2="1080.5424"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="171" x="159" y="1074.7334">{Tid, Outcome = do_commit}</text>
    <path d="M765,1093.5424 L765,1120.5424 L843,1120.5424 L843,1103.5424 L833,1093.5424 L765,1093.5424 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M833,1093.5424 L833,1103.5424 L843,1103.5424 L833,1093.5424 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L273" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="57" x="771" y="1112.4394">doit_loop</text>
    </a>
    <path d="M713,1135.2484 L713,1180.2484 L894,1180.2484 L894,1145.2484 L884,1135.2484 L713,1135.2484 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M884,1135.2484 L884,1145.2484 L894,1145.2484 L884,1135.2484 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="719" y="1154.1454">lookup #participant record</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="134" x="722" y="1171.8514">from the state gb_tree</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="194" y1="1220.3665" y2="1220.3665"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="194" x2="194" y1="1220.3665" y2="1233.3665"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="153" x2="194" y1="1233.3665" y2="1233.3665"/>
    <polygon fill="#A80036" points="163,1229.3665,153,1233.3665,163,1237.3665,159,1233.3665" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="159" y="1214.5575">mnesia_recover:note_decision(Tid, committed)</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="199" y1="1260.0725" y2="1260.0725"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="199" y1="1260.0725" y2="1273.0725"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="158" x2="199" y1="1273.0725" y2="1273.0725"/>
    <polygon fill="#A80036" points="168,1269.0725,158,1273.0725,168,1277.0725,164,1273.0725" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1777" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="119" x="164" y="1254.2635">mnesia_tm:do_dirty</text>
    </a>
    <path d="M44,1291.0725 L44,1354.0725 L235,1354.0725 L235,1301.0725 L225,1291.0725 L44,1291.0725 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M225,1291.0725 L225,1301.0725 L235,1301.0725 L225,1291.0725 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="50" y="1309.9695">Mnesia logs #commit record</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="50" y="1327.6755">for the local node.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="50" y="1345.3815">See "Arrange" chapter below</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="199" y1="1386.8965" y2="1386.8965"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="199" x2="199" y1="1386.8965" y2="1399.8965"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="158" x2="199" y1="1399.8965" y2="1399.8965"/>
    <polygon fill="#A80036" points="168,1395.8965,158,1399.8965,168,1403.8965,164,1399.8965" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_log.erl#L227" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="90" x="164" y="1381.0875">mnesia_log:log</text>
    </a>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="254" y="1381.0875">(#commit{})</text>
    <path d="M750.5,1414.8965 L813.5,1414.8965 L813.5,1423.8965 L803.5,1433.8965 L750.5,1433.8965 L750.5,1414.8965 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="64.412" style="stroke: #000000; stroke-width: 2.0;" width="220.5" x="750.5" y="1414.8965"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="765.5" y="1429.7936">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="113" x="828.5" y="1428.6555">[tm_a is a disk node]</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="1458.3086" y2="1458.3086"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="1458.3086" y2="1471.3086"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="1471.3086" y2="1471.3086"/>
    <polygon fill="#A80036" points="817,1467.3086,807,1471.3086,817,1475.3086,813,1471.3086" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="813" y="1452.4996">mnesia_log:log(Commit)</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="1510.0146" y2="1510.0146"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="1510.0146" y2="1523.0146"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="1523.0146" y2="1523.0146"/>
    <polygon fill="#A80036" points="817,1519.0146,807,1523.0146,817,1527.0146,813,1523.0146" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="278" x="813" y="1504.2056">mnesia_recover:note_decision(Tid, committed)</text>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1156.5" x="3" y="1552.8676"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="1552.8676" y2="1552.8676"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="1555.8676" y2="1555.8676"/>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="151" x="505.75" y="1541.0146"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="134" x="511.75" y="1558.9116">Post-commit actions</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="157" x2="204" y1="1595.4266" y2="1595.4266"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1595.4266" y2="1608.4266"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1608.4266" y2="1608.4266"/>
    <polygon fill="#A80036" points="173,1604.4266,163,1608.4266,173,1612.4266,169,1608.4266" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="169" y="1589.6176">mnesia_tm:do_commit</text>
    <path d="M56,1626.4266 L56,1689.4266 L224,1689.4266 L224,1636.4266 L214,1626.4266 L56,1626.4266 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M214,1626.4266 L214,1636.4266 L224,1636.4266 L214,1626.4266 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="62" y="1645.3236">Dump the ops to the DB,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="65" y="1663.0297">notify subscribers,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="65" y="1680.7357">etc.</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="204" y1="1722.2507" y2="1722.2507"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1722.2507" y2="1735.2507"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1735.2507" y2="1735.2507"/>
    <polygon fill="#A80036" points="173,1731.2507,163,1735.2507,173,1739.2507,169,1735.2507" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="169" y="1716.4417">mnesia_tm:do_snmp</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="204" y1="1766.9567" y2="1766.9567"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1766.9567" y2="1779.9567"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1779.9567" y2="1779.9567"/>
    <polygon fill="#A80036" points="173,1775.9567,163,1779.9567,173,1783.9567,169,1779.9567" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="169" y="1761.1477">update_ram_copies</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="204" y1="1811.6627" y2="1811.6627"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1811.6627" y2="1824.6627"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1824.6627" y2="1824.6627"/>
    <polygon fill="#A80036" points="173,1820.6627,163,1824.6627,173,1828.6627,169,1824.6627" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="169" y="1805.8537">update_disc_copies</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="204" y1="1856.3687" y2="1856.3687"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1856.3687" y2="1869.3687"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1869.3687" y2="1869.3687"/>
    <polygon fill="#A80036" points="173,1865.3687,163,1869.3687,173,1873.3687,169,1869.3687" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="169" y="1850.5597">mnesia_tm:do_update_ext</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="162" x2="204" y1="1901.0748" y2="1901.0748"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="204" x2="204" y1="1901.0748" y2="1914.0748"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="163" x2="204" y1="1914.0748" y2="1914.0748"/>
    <polygon fill="#A80036" points="173,1910.0748,163,1914.0748,173,1918.0748,169,1914.0748" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="169" y="1895.2658">mnesia_subscr:report_activity</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="162" x2="204" y1="1950.7808" y2="1950.7808"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="204" x2="204" y1="1950.7808" y2="1963.7808"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="157" x2="204" y1="1963.7808" y2="1963.7808"/>
    <polygon fill="#A80036" points="167,1959.7808,157,1963.7808,167,1967.7808,163,1963.7808" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="169" y="1944.9718">?</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="157" x2="199" y1="1995.4868" y2="1995.4868"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="199" x2="199" y1="1995.4868" y2="2008.4868"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="199" y1="2008.4868" y2="2008.4868"/>
    <polygon fill="#A80036" points="162,2004.4868,152,2008.4868,162,2012.4868,158,2008.4868" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="6" x="164" y="1989.6778">?</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="2035.1928" y2="2035.1928"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="2035.1928" y2="2048.1928"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="2048.1928" y2="2048.1928"/>
    <polygon fill="#A80036" points="817,2044.1928,807,2048.1928,817,2052.1928,813,2048.1928" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="217" x="813" y="2029.3838">mnesia_tm:do_commit(Tid, Commit)</text>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1156.5" x="3" y="2078.0458"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="2078.0458" y2="2078.0458"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1159.5" y1="2081.0458" y2="2081.0458"/>
    <rect fill="#EEEEEE" filter="url(#f9h8lzookdwd0)" height="25.706" style="stroke: #000000; stroke-width: 2.0;" width="71" x="545.75" y="2066.1928"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="54" x="551.75" y="2084.0898">Cleanup</text>
    <polygon fill="#A80036" points="549,2121.6048,559,2125.6048,549,2125.6048" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="560" y1="2125.6048" y2="2125.6048"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="159" y="2119.7958">release_tid</text>
    </a>
    <polygon fill="#A80036" points="1086,2153.3109,1096,2157.3109,1086,2157.3109" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="1097" y1="2157.3109" y2="2157.3109"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_locker.erl#L183" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="64" x="813" y="2151.5019">release_tid</text>
    </a>
    <polygon fill="#A80036" points="437,2185.0169,447,2189.0169,437,2189.0169" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="152" x2="448" y1="2189.0169" y2="2189.0169"/>
    <a href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" target="_top" title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L377" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="111" x="159" y="2183.2079">delete_transaction</text>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="152" x2="194" y1="2225.7229" y2="2225.7229"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="194" x2="194" y1="2225.7229" y2="2238.7229"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="147" x2="194" y1="2238.7229" y2="2238.7229"/>
    <polygon fill="#A80036" points="157,2234.7229,147,2238.7229,157,2242.7229,153,2238.7229" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="159" y="2219.9139">do_commit</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="147" x2="189" y1="2270.4289" y2="2270.4289"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="189" x2="189" y1="2270.4289" y2="2283.4289"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="142" x2="189" y1="2283.4289" y2="2283.4289"/>
    <polygon fill="#A80036" points="152,2279.4289,142,2283.4289,152,2287.4289,148,2283.4289" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="154" y="2264.6199">do_commit</text>
    <path d="M705,2293.4289 L855,2293.4289 L855,2302.4289 L845,2312.4289 L705,2312.4289 L705,2293.4289 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/>
    <rect fill="none" height="150.8241" style="stroke: #000000; stroke-width: 2.0;" width="365" x="705" y="2293.4289"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105" x="720" y="2308.3259">remote cleanup</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="2336.8409" y2="2336.8409"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="2336.8409" y2="2349.8409"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="2349.8409" y2="2349.8409"/>
    <polygon fill="#A80036" points="817,2345.8409,807,2349.8409,817,2353.8409,813,2349.8409" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="210" x="813" y="2331.0319">mnesia_tm:transaction_terminated</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="806" x2="848" y1="2381.547" y2="2381.547"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="848" x2="848" y1="2381.547" y2="2394.547"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="807" x2="848" y1="2394.547" y2="2394.547"/>
    <polygon fill="#A80036" points="817,2390.547,807,2394.547,817,2398.547,813,2394.547" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="813" y="2375.738">mnesia_checkpoint:tm_exit_pending(Tid)</text>
    <path d="M715,2407.547 L715,2434.547 L892,2434.547 L892,2417.547 L882,2407.547 L715,2407.547 " fill="#FBFB77" filter="url(#f9h8lzookdwd0)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M882,2407.547 L882,2417.547 L892,2417.547 L882,2407.547 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="721" y="2426.444">Update the Lamport clock</text>
  </g>
</svg>
