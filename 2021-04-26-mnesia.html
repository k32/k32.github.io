<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mnesia internals</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="default.css"/>
<link href="atom.xml" type="application/atom+xml" rel="alternate" title="k32's notebook"/>
<meta http-equiv="Permissions-Policy" content="interest-cohort=()"/>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href=""> UP </a>
 |
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="content">
<h1 class="title">Mnesia internals</h1>
<p>
I have been studying Mnesia internals for my current job assignment,
and I figured that I may start publishing my scattered notes. There is
a lot of interesting stuff going on down there. I will update this
post with more details.
</p>

<p>
Disclaimer: I am not an OTP dev, and not a mnesia dev, thus anything
that will be posted here will be derived from reading (the poorly
documented) code and my own experiments. So THE BLOG POST IS PROVIDED
"AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, and so on.
</p>

<div id="outline-container-org" class="outline-2">
<h2 id="org"><span class="section-number-2">1</span> <span class="todo TODO">TODO</span> Transaction flow</h2>
<div class="outline-text-2" id="text-1">

<div id="org" class="figure">
<p><img src="mnesia_simplified.png" alt="mnesia_simplified.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org" class="outline-2">
<h2 id="org"><span class="section-number-2">2</span> <span class="todo TODO">TODO</span> Scalability</h2>
<div class="outline-text-2" id="text-2">
<p>
As should be evident from the above diagram, transaction latency is
expected to grow when the number of nodes in the cluster
grows. Indeed, this effect was observed in the test with the help of
<a href="https://www.man7.org/linux/man-pages/man8/tc-netem.8.html">netem</a>.
</p>

<p>
Graph of Mnesia vs. "the new thing" prototype we're working on:
</p>


<div id="org" class="figure">
<p><img src="rlog_comparison.png" alt="rlog_comparison.png" />
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2021-04-26</p>
</div>
</body>
</html>
