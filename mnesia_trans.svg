<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="968px" preserveAspectRatio="none" style="width:520px;height:968px;" version="1.1" viewBox="0 0 520 968" width="520px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="f94r3tmknefax" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="394.4609" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="77.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="77.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="77.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="109" y1="77.2969" y2="77.2969"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="222.7969" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="680.7656" y2="903.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="680.7656" y2="903.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="109" y1="903.5625" y2="903.5625"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="352.3281" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="119.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="119.4297" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="119.4297" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="114" y1="119.4297" y2="119.4297"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="180.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="680.7656" y2="861.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="680.7656" y2="861.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="114" y1="861.4297" y2="861.4297"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="55.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="416.4922"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="416.4922" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="416.4922" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="119" y1="416.4922" y2="416.4922"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="138.5313" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="680.7656" y2="819.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="680.7656" y2="819.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="119" y1="819.2969" y2="819.2969"/>
    <rect fill="#ADD8E6" filter="url(#f94r3tmknefax)" height="13.1328" style="stroke: #ADD8E6; stroke-width: 1.0;" width="10" x="114" y="458.625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="458.625" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="458.625" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="458.625" y2="458.625"/>
    <rect fill="#ADD8E6" filter="url(#f94r3tmknefax)" height="27" style="stroke: #ADD8E6; stroke-width: 1.0;" width="10" x="114" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="512.5625" y2="539.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="512.5625" y2="539.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="539.5625" y2="539.5625"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="13.1328" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="114" y="626.8281"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="626.8281" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="626.8281" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="626.8281" y2="626.8281"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="27" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="114" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="680.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="680.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="707.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="38.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="104" x2="104" y1="471.7578" y2="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="104" x2="104" y1="639.9609" y2="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="680.7656" y2="928.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="320.5" y1="38.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="320.5" x2="320.5" y1="471.7578" y2="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="320.5" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,4.0;" x1="320.5" x2="320.5" y1="639.9609" y2="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="320.5" x2="320.5" y1="680.7656" y2="928.6953"/>
    <rect fill="#FEFECE" filter="url(#f94r3tmknefax)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="89" y="3"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="96" y="22.9951">tx</text>
    <rect fill="#FEFECE" filter="url(#f94r3tmknefax)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="26" x="89" y="927.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="12" x="96" y="947.6904">tx</text>
    <rect fill="#FEFECE" filter="url(#f94r3tmknefax)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="274.5" y="3"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="281.5" y="22.9951">mnesia_tm</text>
    <rect fill="#FEFECE" filter="url(#f94r3tmknefax)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="274.5" y="927.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="75" x="281.5" y="947.6904">mnesia_tm</text>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="394.4609" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="77.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="77.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="77.2969" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="109" y1="77.2969" y2="77.2969"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="222.7969" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="99" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="99" y1="680.7656" y2="903.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="680.7656" y2="903.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="99" x2="109" y1="903.5625" y2="903.5625"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="352.3281" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="119.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="119.4297" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="119.4297" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="114" y1="119.4297" y2="119.4297"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="180.6641" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="104" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="104" y1="680.7656" y2="861.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="680.7656" y2="861.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="114" y1="861.4297" y2="861.4297"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="55.2656" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="416.4922"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="416.4922" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="416.4922" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="119" y1="416.4922" y2="416.4922"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="127.3984" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="512.5625" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="512.5625" y2="639.9609"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="138.5313" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="109" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="109" y1="680.7656" y2="819.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="119" y1="680.7656" y2="819.2969"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="119" y1="819.2969" y2="819.2969"/>
    <rect fill="#ADD8E6" filter="url(#f94r3tmknefax)" height="13.1328" style="stroke: #ADD8E6; stroke-width: 1.0;" width="10" x="114" y="458.625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="458.625" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="458.625" y2="471.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="458.625" y2="458.625"/>
    <rect fill="#ADD8E6" filter="url(#f94r3tmknefax)" height="27" style="stroke: #ADD8E6; stroke-width: 1.0;" width="10" x="114" y="512.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="512.5625" y2="539.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="512.5625" y2="539.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="539.5625" y2="539.5625"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="13.1328" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="114" y="626.8281"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="626.8281" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="626.8281" y2="639.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="626.8281" y2="626.8281"/>
    <rect fill="#FFFFFF" filter="url(#f94r3tmknefax)" height="27" style="stroke: #FFFFFF; stroke-width: 1.0;" width="10" x="114" y="680.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="114" y1="680.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="124" x2="124" y1="680.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="124" y1="707.7656" y2="707.7656"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="104" x2="151" y1="64.4297" y2="64.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="151" x2="151" y1="64.4297" y2="77.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="110" x2="151" y1="77.4297" y2="77.4297"/>
    <polygon fill="#A80036" points="120,73.4297,110,77.4297,120,81.4297,116,77.4297" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia.erl#L418" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia.erl#L418" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="116" y="59.3638">mnesia:transaction</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="116" x2="239" y1="61.3638" y2="61.3638"/>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="109" x2="156" y1="106.5625" y2="106.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="156" x2="156" y1="106.5625" y2="119.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="115" x2="156" y1="119.5625" y2="119.5625"/>
    <polygon fill="#A80036" points="125,115.5625,115,119.5625,125,123.5625,121,119.5625" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L761" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L761" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="148" x="121" y="101.4966">mnesia_tm:transaction</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="121" x2="269" y1="103.4966" y2="103.4966"/>
    </a>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="505" x="3" y="153.1289"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="153.1289" y2="153.1289"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="156.1289" y2="156.1289"/>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="166" x="172.5" y="142.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="178.5" y="158.6294">prepare transaction</text>
    <polygon fill="#A80036" points="309,192.8281,319,196.8281,309,200.8281,313,196.8281" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="315" y1="196.8281" y2="196.8281"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L777" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L777" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="71" x="121" y="191.7622">start_outer</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="121" x2="192" y1="193.7622" y2="193.7622"/>
    </a>
    <path d="M138,209.8281 L138,234.8281 L499,234.8281 L499,219.8281 L489,209.8281 L138,209.8281 " fill="#FBFB77" filter="url(#f94r3tmknefax)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M489,209.8281 L489,219.8281 L499,219.8281 L489,209.8281 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L232" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L232" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="340" x="144" y="226.895">Create a fresh ets bag for the shadow store and a Tid</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="144" x2="484" y1="228.895" y2="228.895"/>
    </a>
    <polygon fill="#A80036" points="125,261.0938,115,265.0938,125,269.0938,121,265.0938" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="119" x2="320" y1="265.0938" y2="265.0938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="131" y="260.0278">link</text>
    <polygon fill="#A80036" points="125,290.2266,115,294.2266,125,298.2266,121,294.2266" style="stroke: #A80036; stroke-width: 1.0;"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="320" y1="294.2266" y2="294.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="131" y="289.1606">{new_tid, Tid, Etab}</text>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="505" x="3" y="322.793"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="322.793" y2="322.793"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="325.793" y2="325.793"/>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="131" x="190" y="312.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="112" x="196" y="328.2935">run transaction</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="156" y1="366.4922" y2="366.4922"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="156" x2="156" y1="366.4922" y2="379.4922"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="115" x2="156" y1="379.4922" y2="379.4922"/>
    <polygon fill="#A80036" points="125,375.4922,115,379.4922,125,383.4922,121,379.4922" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="121" y="361.4263">update mnesia_activity_state</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="114" x2="161" y1="403.625" y2="403.625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="161" x2="161" y1="403.625" y2="416.625"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="120" x2="161" y1="416.625" y2="416.625"/>
    <polygon fill="#A80036" points="130,412.625,120,416.625,130,420.625,126,416.625" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L841" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L841" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="126" y="398.5591">mnesia_tm:apply_fun</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="126" x2="263" y1="400.5591" y2="400.5591"/>
    </a>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="166" y1="445.7578" y2="445.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="166" y1="445.7578" y2="458.7578"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="166" y1="458.7578" y2="458.7578"/>
    <polygon fill="#A80036" points="135,454.7578,125,458.7578,135,462.7578,131,458.7578" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="131" y="440.6919">Apply transaction fun</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="273" x="76" y="495.9683">Read and write records, see "reads and writes"</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="124" x2="166" y1="538.6953" y2="538.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="166" y1="538.6953" y2="551.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="119" x2="166" y1="551.6953" y2="551.6953"/>
    <polygon fill="#A80036" points="129,547.6953,119,551.6953,129,555.6953,125,551.6953" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="131" y="533.6294">Ret</text>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="505" x="3" y="575.2617"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="575.2617" y2="575.2617"/>
    <line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="508" y1="578.2617" y2="578.2617"/>
    <rect fill="#EEEEEE" filter="url(#f94r3tmknefax)" height="23.1328" style="stroke: #000000; stroke-width: 2.0;" width="74" x="218.5" y="564.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="55" x="224.5" y="580.7622">commit</text>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="119" x2="166" y1="613.9609" y2="613.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="166" x2="166" y1="613.9609" y2="626.9609"/>
    <line style="stroke: #A80036; stroke-width: 1.0;" x1="125" x2="166" y1="626.9609" y2="626.9609"/>
    <polygon fill="#A80036" points="135,622.9609,125,626.9609,135,630.9609,131,626.9609" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L1094" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="137" x="131" y="608.895">mnesia_tm:t_commit</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="131" x2="268" y1="610.895" y2="610.895"/>
    </a>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="124" y="664.1714">See "commit process in detail"</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="124" x2="166" y1="706.8984" y2="706.8984"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="166" x2="166" y1="706.8984" y2="719.8984"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="119" x2="166" y1="719.8984" y2="719.8984"/>
    <polygon fill="#A80036" points="129,715.8984,119,719.8984,129,723.8984,125,719.8984" style="stroke: #A80036; stroke-width: 1.0;"/>
    <a target="_top" xlink:actuate="onRequest" xlink:href="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L844" xlink:show="new" xlink:title="https://github.com/erlang/otp/blob/OTP-24.0/lib/mnesia/src/mnesia_tm.erl#L844" xlink:type="simple">
      <text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="72" x="131" y="701.8325">do_commit</text>
      <line style="stroke: #0000FF; stroke-width: 1.0;" x1="131" x2="203" y1="703.8325" y2="703.8325"/>
    </a>
    <path d="M8,727.8984 L8,782.8984 L196,782.8984 L196,737.8984 L186,727.8984 L8,727.8984 " fill="#FBFB77" filter="url(#f94r3tmknefax)" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M186,727.8984 L186,737.8984 L196,737.8984 L186,727.8984 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="14" y="744.9653">If result wasn't do_commit</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="18" y="760.0981">the tx would restart</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="18" y="775.231">transaction here</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="119" x2="161" y1="818.4297" y2="818.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="161" x2="161" y1="818.4297" y2="831.4297"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="161" y1="831.4297" y2="831.4297"/>
    <polygon fill="#A80036" points="124,827.4297,114,831.4297,124,835.4297,120,831.4297" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="126" y="813.3638">Ret</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="114" x2="156" y1="860.5625" y2="860.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="156" x2="156" y1="860.5625" y2="873.5625"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109" x2="156" y1="873.5625" y2="873.5625"/>
    <polygon fill="#A80036" points="119,869.5625,109,873.5625,119,877.5625,115,873.5625" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="121" y="855.4966">"{atomic, Ret}"</text>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="109" x2="151" y1="902.6953" y2="902.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="151" x2="151" y1="902.6953" y2="915.6953"/>
    <line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="104" x2="151" y1="915.6953" y2="915.6953"/>
    <polygon fill="#A80036" points="114,911.6953,104,915.6953,114,919.6953,110,915.6953" style="stroke: #A80036; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="116" y="897.6294">"{atomic, Ret}"</text>
  </g>
</svg>
